---
import HomeIcon from "@/icons/HomeIcon.astro";

const { user, profile } = Astro.props;
---

<nav class="fixed top-0 left-0 w-60 h-full border-r bg-primary-a0 flex flex-col">
  <!-- Logo -->
  <div class="h-20 flex items-center justify-center">
    <a href="/" class="flex-none">
      <img src="/logo.webp" alt="Logo" width="160" height="auto" class="mx-auto" />
    </a>
  </div>

  <!-- NavegaciÃ³n -->
  <ul class="flex-1 px-4 mt-6 space-y-2 text-sm font-medium">
    <li>
      <a
        href="/"
        class="flex items-center justify-center gap-3 py-2 px-3 rounded-lg text-white hover:bg-success-a0 transition"
      >
        <HomeIcon class="w-5 h-5 text-white" />
        <span class="uppercase text-xl">Inicio</span>
      </a>
    </li>
  </ul>

  <!-- Perfil -->
  <div class="relative px-4 py-4 border-t">
    <details class="group relative">
      <summary class="flex items-center gap-3 cursor-pointer list-none">
        <img
          src={profile?.avatar_url ?? "/default-avatar.png"}
          alt="Avatar"
          class="w-12 h-12 rounded-full object-cover"
        />
        <span class="text-white font-medium">
          {profile?.nombre ?? "Invitado"}
        </span>
      </summary>

      <div
        class="absolute bottom-14 left-0 w-56 bg-white border rounded-lg shadow-lg text-sm text-gray-700 overflow-hidden"
      >
        <div class="p-3 border-b">
          <p class="text-xs font-semibold">{profile?.nombre} {profile?.apellidos}</p>
          <p class="text-xs text-gray-500">{user?.email}</p>
        </div>

        <a href="#" class="block px-4 py-2 hover:bg-gray-50 transition">
          Status
        </a>

        <div class="px-4 py-2">
          <label class="text-xs text-gray-500">Tema</label>
          <select class="w-full mt-1 border rounded-md p-2 text-sm cursor-pointer">
            <option>System</option>
            <option>Light</option>
            <option>Dark</option>
          </select>
        </div>

        <button
          class="block w-full text-left px-4 py-2 hover:bg-gray-50 transition text-red-600"
        >
          Logout
        </button>
      </div>
    </details>
  </div>
</nav>
